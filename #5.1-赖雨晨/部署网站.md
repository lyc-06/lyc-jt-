# 部署网站 
使用Netlify将OpenJT的官网部署到互联网上。
## 1. 创建一个本地Git仓库
 1. 打开VSCode中的终端，导航到相应的项目文件夹。
2.  输入以下命令初始化Git仓库
   ```
    git init
 ```
3.  将当前目录下的所有文件添加到Git的暂存区
   ```
    git add.
   ```
4.  初次提交暂存区中的文件到Git仓库
   ```
    git commit -m "Initial commit"
   ```
5. 检查Git仓库状态
 ```
    git status
   ```
 显示```"nothing to commit, working tree clean"```
 ## 2. 推送本地仓库到GitHub
   ```
   git remote add origin https://github.com/lyc-06/lyc-06.github.com.git
git branch -M main
git push -u origin main
   ```
## 3. 使用Netlify部署网站
1. 注册Netlify账号，关联GitHub账号。
2. 登录Netlify，点击```"New site from Git"```，选择GitHub上的对应仓库（```lyc-06.github.com```）。
3. 选择```"Branch to deploy"```，选择```"main"```分支。
4. 点击```"Deploy site"```，等待部署完成。
   
## 4. 出现的错误
### 部署成功后打不开页面，出现```"404 Not Found"```错误。

 - 根据netlify官方文档指示）如果直接部署站点，而没有任何构建步骤，将站点上传到 git 存储库，并将所有文件放在子文件夹中。在将站点连接到 Netlify时，由于缺少框架，因此当访问网站时，看到 404。因为文件实际上位于.在这种情况下，应该将所有文件移动到子文件夹之外，或者在 Netlify Site 设置中更改发布目录为```https://their-site,netlifv.app/sub-folder```


- 路径写法不同，导致无法跳转到相应位置。
1. 链接路径：
   
```html
<a href="http://127.0.0.1:5572/%E6%9C%80%E6%96%B0%E8%BF%9B%E5%B1%95.html" target="_self">最新进展</a>  /*错误写法*/
```
```html
<a href="./%E6%9C%80%E6%96%B0%E8%BF%9B%E5%B1%95.html" target="_self">最新进展</a>  /*正确写法*/
  ```

  2.图片路径：
```html
<img src="vddccTqwal8.jpg" alt="Image 1">  /*错误写法*/
```
```html
<img src="./vddccTqwal8.jpg" alt="Image 1">/*正确写法*/
```
- 需要一个特殊的配置来处理路由器，创建一个.json文件
  ```json
  "version": 2,  //  配置版本
  
  // 构建设置
  "builds": [
    { 
      "src": "**/*",  // 匹配所有文件
      "use": "@vercel/static"  // 使用静态文件处理器
    }
  ],

  // 路由规则
  "routes": [
    { "handle": "filesystem" },  // 优先使用文件系统路由
    { "src": "/(.*)", "dest": "/index.html" }  // 将所有请求重定向到 index.html
  ],

  // URL 清理选项
  "cleanUrls": true,  // 移除 URL 中的 .html 后缀
  "trailingSlash": false  // 移除 URL 末尾的斜杠
     ```
- 重新推送到git仓库后，netlify再次部署成功后，页面可以正常打开。



